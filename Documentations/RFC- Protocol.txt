 



The Student Working Group                                 Jonathan Bruel
Request for Comments: 0000                                 Arthur Grosso
Category: Experimental                                     Pierre Jallut
                                                                 Epitech
                                                           December 2018


               Fully Generic Payement Server Protocol


Abstract

   This document describe how the server payement protocol works for the Epitech
   project CashManager.

Status of this Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright and License Notice

   Copyright (C) The Student Working Group (2018). All Rights Reserved

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .  2
     1.1.  Conventions Used in This Document . . . . . . . . . . . .  2
   2.  Session Management  . . . . . . . . . . . . . . . . . . . . .  2
   3.  Packet Description  . . . . . . . . . . . . . . . . . . . . .  2
     3.1.  Defaults payement requests values . . . . . . . . . . . .  3
     3.2.  Authenticate request. . . . . . . . . . . . . . . . . . .  3
     3.3.  Card payment request. . . . . . . . . . . . . . . . . . .  3
     3.4.  Card payment contactless request. . . . . . . . . . . . .  4
     3.4.  Check payment request. . . . . . . . . . . . . . . . . . . 5
   4.  Security Considerations . . . . . . . . . . . . . . . . . . . 6
   5.  Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . 6






 


                                                                        

                                                                        


Bruel                         Experimental                        Page 2
RFC 0000               The Students Working Group          December 2018


1.  Introduction

   The provider will have to create new payement request based on standard
   payement across network. This RFC is cut into REQ (request),
   RESP (response).
   Request can be send by the client, this is use to ask informations.
   RESP is use to give a response to a request.

1.1.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Session Management

   A session requires creation of a TCP connection between two peers,
   one that initiates the connection request and one that responds to
   the connection request.  The initiating peer is called the "client",
   and the responding peer is called the "server". A server MUST listen
   for TCP connection requests on a standard TCP port.

3.  Packet Description

   EVERY packet MUST be structured the way it is described in this RFC.
   If a mal-structured packet is received by either the client OR the
   server, this last SHOULD be ignored.

   EVERY response MUST be on json format.

 


                                                                        

                                                                        


Bruel                         Experimental                        Page 3
RFC 0000               The Students Working Group          December 2018


3.1.  Defaults payement requests values.


   All payment MUST be authenticated with a token generated by auhtenticate
   request.
   
   All payment REQUIRED all request parameters.

3.2.  Authenticate Request
    
    Authenticate request are used to secured all transation on the server.
Tokens can have limite or unlimited number of try but each token is unique by
payment.

Request:
    path: /token
    parameters:
        type[string]: Payment type 'CHECK', 'CARD', 'CONTACTLESS'
        try_count[int]: Number of try accepted befor invaliation of token.
            The value -1 is unlimited.

Response:
    token[string 64]: Generated token.
    type[string]: The payment allowed with this token.
    created[string]: Time point of creation of the token.
    exire[string]: Time point of destruction of the token.


3.3.  Card Payement Request

    Card payement request are used to validate a card payment with terminal.

Request:
    path: /payment/card
    parameters:
        token[string]: Token generated by Authenticate request
        card_type[string]: 'VISA', 'MASTER', 'ELECTRON'
        card_number[string]: 16 digits not banned.
        pin[string]: 4 digits not banned.
        amount[float]: payment amount

Response:
    token[string 64]: Generated token.
    type[string]: The payment allowed with this token.
    card_type[string]: Card type used on payment
    card_number[string]: Card number used on payment.
    transaction[int]: Transaction id.
    amount[float]: Payment amount.

Error: Wrong token
    error[string]: Wrong token
    error_code[int]: 107

Error: Max try
    error[string]: Max try
    error_code[int]: 108
    
Error: Invalid card number
    error[string]: Invalid card_number 0000000000000000
    error_code[int]: 104
    
Error: Card banned
    error[string]: Card banned
    error_code[int]: 101

Error: Invalid pin
    error[string]: Invalid pin
    error_code[int]: 103
    
Error: Card max amount
    error[string]: Card max amount {maximum amount authorized}
    error_code[int]: 106


                                                                        

                                                                        


Bruel                         Experimental                        Page 4
RFC 0000               The Students Working Group          December 2018


3.4  Card Payement Contactless Request

    Card payement request are used to validate a card payment with terminal.

Request:
    path: /payment/contactless
    parameters:
        token[string]: Token generated by Authenticate request
        card_type[string]: 'VISA', 'MASTER', 'ELECTRON'
        card_number[string]: 16 digits not banned.
        amount[float]: payment amount

Response:
    token[string 64]: Generated token.
    type[string]: The payment allowed with this token.
    card_type[string]: Card type used on payment
    card_number[string]: Card number used on payment.
    transaction[int]: Transaction id.
    amount[float]: Payment amount.

Error: Wrong token
    error[string]: Wrong token
    error_code[int]: 107

Error: Max try
    error[string]: Max try
    error_code[int]: 108
    
Error: Invalid card number
    error[string]: Invalid card_number 0000000000000000
    error_code[int]: 104
    
Error: Card banned
    error[string]: Card banned
    error_code[int]: 101

Error: Card max amount
    error[string]: Card max amount {maximum amount authorized}
    error_code[int]: 106


                                                                        

                                                                        


Bruel                         Experimental                        Page 5
RFC 0000               The Students Working Group          December 2018


3.5.  Check Payement Request

    Ceckd payement request are used to validate a check payment.

Request:
    path: /payment/chek
    parameters:
        token[string]: Token generated by Authenticate request
        check_number[string]: 11 alpanumeric not banned.
        amount[float]: payment amount

Response:
    token[string 64]: Generated token.
    type[string]: The payment allowed with this token.
    check_number[string]: Check number used on payment.
    transaction[int]: Transaction id.
    amount[float]: Payment amount.

Error: Wrong token
    error[string]: Wrong token
    error_code[int]: 107

Error: Max try
    error[string]: Max try
    error_code[int]: 108
    
Error: Invalid check number
    error[string]: Invalid check_number
    error_code[int]: 105
    
Error: Check banned
    error[string]: Card banned
    error_code[int]: 101




                                                                        


Bruel                         Experimental                       Page 6
RFC 0000               The Students Working Group           October 2018

4.  Security Considerations

   There is no account management in GMGP, so no need to hide passwords
   or whatever.

5.  Author's Addresses

   Jonathan Bruel
   Epitech Paris
   24 rue Pasteur
   Le Kremlin-Bicetre, 94260

   Phone: +1 310-822-1511
   Fax:   +1 310-823-6714
   EMail: jonathan.bruel@epitech.eu

































                                                                        
